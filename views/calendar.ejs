<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<script type='text/javascript' src='https://cdn.jsdelivr.net/npm/@fullcalendar/core@4.3.1/main.js'></script>
<link type="text/css" rel="stylesheet" href="/stylesheets/main.css">
<link type="text/css" rel="stylesheet" href="/stylesheets/dayGrid.css">
<link type="text/css" rel="stylesheet" href="/stylesheets/timeGrid.css">
<script type='text/javascript' src='/javascripts/dayGrid.js'></script>
<script type='text/javascript' src='/javascripts/timegrid.js'></script>
<script type='text/javascript' src='/javascripts/interaction.js'></script>
<div id="calendar"></div>
<script>


  // page is now ready, initialize the calendar...

  document.addEventListener('DOMContentLoaded', function() {
var calendarEl = document.getElementById('calendar');
console.log(calendarEl)

var calendar = new FullCalendar.Calendar(calendarEl, {
  plugins: [ 'interaction', 'dayGrid', 'timeGrid' ],
  selectable: true,
  defaultView: 'timeGridWeek',
  header: {
    left: 'prev,next today',
    center: 'title',
    right: 'dayGridMonth,timeGridWeek,timeGridDay'
  },
  footer: {
    center: 'addEventButton'
  },
  timeZone: 'local',


  // eventClick: function(info) {
  //   alert('clicked ' + info.dateStr);
  //   var eventObj = info.event;
  // },

  //   if (eventObj.url) {
  //     alert(
  //       'Clicked ' + eventObj.title + '.\n' +
  //       'Will open ' + eventObj.url + ' in a new tab'
  //     );
  //     window.open(eventObj.url);

  //     info.jsEvent.preventDefault(); // prevents browser from following link in current tab.
  //   } else {
  //     alert('Clicked ' + eventObj.title);
  //   }
  
  dateClick: function(info) {
    alert('clicked ' + info.dateStr);
  },
  select: function(info) {
    alert('selected ' + info.startStr + ' to ' + info.endStr);
    console.log(info)
    calendar.addEvent({
      title:"Time Off",
      start: info.startStr,
      end: info.endStr
    })
         },
  customButtons: {
    addEventButton: {
      text: 'Add Time Off',
      click: function() {
        var dateStr = prompt('Enter a date in YYYY-MM-DD format');
        var date = new Date(dateStr + 'T00:00:00'); // will be in local time

        if (!isNaN(date.valueOf())) { // valid?
          calendar.addEvent({
            title: 'Time Off',
            start: date,
            allDay: true
          });
          alert('Great. Now, update your database...');
        } else {
          alert('Invalid date.');
        }
        }}},
  events: [
    {
      title: 'All Day Event',
      start: '2019-08-01'
    },
    {
      title: 'Long Event',
      start: '2019-08-07',
      end: '2019-08-10'
    },
    {
      groupId: '999',
      title: 'Repeating Event',
      start: '2019-08-09T16:00:00'
    },
    {
      groupId: '999',
      title: 'Repeating Event',
      start: '2019-08-16T16:00:00'
    },
    {
      title: 'Conference',
      start: '2019-08-11',
      end: '2019-08-13'
    },
    {
      title: 'Meeting',
      start: '2019-08-12T10:30:00',
      end: '2019-08-12T12:30:00'
    },
    {
      title: 'Lunch',
      start: '2019-08-12T12:00:00'
    },
    {
      title: 'Meeting',
      start: '2019-08-12T14:30:00'
    },
    {
      title: 'Birthday Party',
      start: '2019-08-13T07:00:00'
    },
    {
      title: 'Click for Google',
      url: 'http://google.com/',
      start: '2019-08-28'
    }
  ]
});


});

</script>